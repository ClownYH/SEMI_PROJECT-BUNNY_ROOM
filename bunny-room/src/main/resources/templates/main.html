<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{thymeleaf/layout/default}"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>메인 페이지</title>
</head>
<body>

    <header th:replace="~{/common/header :: headerFragment}">
        <h1>나는 header</h1>
    </header>

    <h3>로그인 기능</h3>

    <a href="/signup/findPasswordMethod">비밀번호 찾기</a>
    <a href="/signup/signupMethod">회원가입</a>




    <form th:action="@{/admin/adminPage}">
        <button>어드민페이지로 가기</button>
    </form>

<!--    <h1> 유저 리스트 </h1>-->
<!--    <button onclick="location.href='inquirys'">조회</button>-->

<!--    <form th:action="@{/auth/logout}" th:method="post">-->
<!--        <button>로그아웃</button>-->
<!--    </form>-->

    <div>
        <h4>현재유저</h4>
        <h5 th:text="| ${userAuth}  ${userNickname}  님 |"></h5>
        <a href="/security/auth/login" id="btn_login" style="display: block">로그인하기</a>
        <form th:action="@{/security/auth/logout}" th:method="post">
            <button>로그아웃</button>
        </form>
    </div>


    <script th:inline="javascript">
        if ([[${message}]]){
            alert([[${message}]]);
        }
    </script>

<!--    로그인 버튼 관련 JS-->
    <script>
        if ([[${userNickname}]])
        {
            document.getElementById("btn_login").style.display = 'none';
        }
        if (![[${userNickname}]]){
            document.getElementById("btn_login").style.display = 'block';
        }

    </script>

<!--    업체등록-->
    <a href="/roomRegister/businessRegisterView">업체등록 페이지</a>

</body>
</html>